{"version":3,"file":"static/js/180.8c7224e4.chunk.js","mappings":"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","sources":["components/hooks/useHttp.jsx","pages/MovieDetails.jsx","services/api.js"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react'\nimport { toast } from 'react-toastify'\n\nconst useHttp = (fn, param) => {\n  const [data, setData] = useState(null)\n\n  const getData = useCallback(async () => {\n\t\ttry {\n      const res = await fn(param)\n      setData(res)\n\t\t} catch (err) {\n      toast.error(err.message)\n\t\t} \n\t}, [fn, param])\n\n  useEffect(() => {\n   getData()\n  }, [getData])\n\n  return [data, setData]\n}\n\nexport default useHttp","import { Loader } from 'components/Loader/Loader'\nimport useHttp from 'components/hooks/useHttp'\nimport React, { Suspense, useRef } from 'react'\nimport { Link, Outlet, useLocation, useNavigate, useParams } from 'react-router-dom'\nimport { fetchMovieById } from 'services/api'\nimport styled from 'styled-components'\nimport img from '../img/poster.jpg'\n\nconst MovieDetails = () => {\n  const { movieId } = useParams()\n\n  const [movie] = useHttp(fetchMovieById, movieId)\n\n  const location = useLocation()\n  const navigate = useNavigate()\n  const goBackRef = useRef(location.state?.from || '/')\n  \n  const handleGoBack = () => {\n    navigate(goBackRef.current)\n\t}\n\n\tif (!movie) {\n\t\treturn <Loader />\n\t}\n  \n  const { poster_path, title, vote_average, overview, genres, release_date } = movie\n  const releaseYear = release_date.slice(0, 4)\n  const genresString = genres?.map((item, i) => <p key={i}>{item.name}</p> )\n  \n  return (\n    <div>\n      <StyledBtn onClick={handleGoBack}> Go back</StyledBtn>\n      <br />\n      <StyledWrap>\n        {poster_path ? <StyledImg src={`https://image.tmdb.org/t/p/w300${poster_path}`} alt={title} />\n          : <StyledImg src={img} alt={title} />\n        }\n        <StyledFlex>\n          <h2>{title} ({releaseYear})</h2>\n          <p>User Score (Vote Average): {vote_average}</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h4>Genres</h4>\n          <StyledWrapMini>{genresString}</StyledWrapMini>\n        </StyledFlex>\n      </StyledWrap>\n      <hr />\n      \n      <p>Additional information</p>\n      <ul>\n        <li><Link to='cast' id={movieId}>Cast</Link></li>\n        <li><Link to='reviews'>Reviews</Link></li>\n\n\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t<Outlet />\n\t\t\t</Suspense>\n      </ul>\n\t\t\t\t\t\t\n    </div>\n  )\n}\n\nconst StyledBtn =styled.button`\n  margin-bottom: 8px;\n`\n\nconst StyledImg = styled.img`\n  display: block;\n  height: auto;\n`\n\nconst StyledFlex = styled.div`\ndisplay: flex;\nflex-direction: column;\nmargin: 0;\npadding: 0;\n`\nconst StyledWrap = styled.div`\ndisplay: flex; \ngap: 20px;\n`\nconst StyledWrapMini = styled.div`\ndisplay: flex; \ngap: 5px;\n`\nexport default MovieDetails","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const API_KEY = '38073b7a97af15277e125ef03e31899b';\n\nexport const fetchMovies = async () => {\n  const { data } = await axios.get('/trending/movie/day', {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data.results;\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await axios.get(`/movie/${id}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieByCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data.cast;\n};\n\nexport const fetchMovieByReviews = async id => {\n  const { data } = await axios.get(`/movie/${id}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data.results;\n};\n\nexport const fetchMovieByQuery = async q => {\n  const { data } = await axios.get(`/search/movie?query=${q}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data.results;\n};\n"],"names":["fn","param","_useState","useState","_useState2","_slicedToArray","data","setData","getData","useCallback","_asyncToGenerator","_regeneratorRuntime","_callee","res","_context","prev","next","sent","t0","toast","message","stop","useEffect","StyledBtn","styled","_templateObject","_taggedTemplateLiteral","StyledImg","_templateObject2","StyledFlex","_templateObject3","StyledWrap","_templateObject4","StyledWrapMini","_templateObject5","_location$state","movieId","useParams","_useHttp","useHttp","fetchMovieById","movie","location","useLocation","navigate","useNavigate","goBackRef","useRef","state","from","_jsx","Loader","poster_path","title","vote_average","overview","genres","releaseYear","release_date","slice","genresString","map","item","i","children","name","_jsxs","onClick","current","src","concat","alt","img","Link","to","id","Suspense","fallback","Outlet","axios","API_KEY","fetchMovies","_ref","_yield$axios$get","params","api_key","abrupt","results","apply","arguments","_ref2","_callee2","_yield$axios$get2","_context2","_x","fetchMovieByCast","_ref3","_callee3","_yield$axios$get3","_context3","cast","_x2","fetchMovieByReviews","_ref4","_callee4","_yield$axios$get4","_context4","_x3","fetchMovieByQuery","_ref5","_callee5","q","_yield$axios$get5","_context5","_x4"],"sourceRoot":""}